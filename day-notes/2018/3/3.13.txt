## 2018.3.13
## daily-notes

雕文

需要做什么？
1、前期条件检查
	1.1、玩家是否开启雕文(雕文是否解锁)
	1.2、雕文是否达到当前最大
	1.3、对应的材料是否够用
2、如何将对应的
3、后期做的
	3.1、扣除相对应的道具(雕文晶石和灵魂石)
	3.2、转化对应的战力
	
	
	
升级失败，不添加升级经验,但是增加幸运值

问题：
	1、幸运值怎么计算
		只有失败的时候才会有幸运值
	2、暴击的比例
		配置在暴击表里面
	3、如何判断是升级成功还是失败
		有一个比例：成功率,超过这个就是失败
	4、如何保存雕文的相关信息
		这个信息挂在玩家还是TplayerCard身上
		
需要保存的
	cardId
	雕文id
	当前升级的经验
	幸运值
type Glyph struct{
	GlyphId  int32   // 雕文id
	UpExp 	 int32  // 升级所需要的经验
	LuckValue int32 // 失败的幸运值

}
		
map[int32]map[ing32]CGlyph
GlyphId--->(GllyphLevel--->CGlyph)

self learning


开启雕文的条件
	1、团队等级
	2、英雄星数----
		2.1、星数达到条件之后，对卡牌进行一次校验，
			如果卡牌星数到了五颗星,就开启雕文
			如果卡牌星数没有达到五颗星,就没有开启雕文
		2.2、条件校验
			在升级雕文的时候,需要判断卡牌的星数是否到了五颗星

	英雄升星之后,服务器不需要做任何改变,等到升级雕文的时候,只需要做个检验就好了,判断这个星数是否达到了激活雕文的条件。

















	
	
	